{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "API接口规范",
  "description": "从Word文档提取的API接口定义",
  "type": "object",
  "properties": {
    "interfaces": {
      "type": "array",
      "description": "接口列表",
      "items": {
        "type": "object",
        "required": ["name", "path", "method", "description"],
        "properties": {
          "name": {
            "type": "string",
            "description": "接口名称（唯一标识）"
          },
          "path": {
            "type": "string",
            "description": "接口路径（如 /api/loans/{id}）"
          },
          "method": {
            "type": "string",
            "enum": ["GET", "POST", "PUT", "DELETE", "PATCH"],
            "description": "HTTP方法"
          },
          "description": {
            "type": "string",
            "description": "接口功能描述"
          },
          "tags": {
            "type": "array",
            "items": {"type": "string"},
            "description": "接口标签分类"
          },
          "parameters": {
            "type": "array",
            "description": "请求参数列表",
            "items": {
              "type": "object",
              "required": ["name", "in", "type"],
              "properties": {
                "name": {"type": "string"},
                "in": {
                  "type": "string",
                  "enum": ["path", "query", "header", "body"]
                },
                "type": {
                  "type": "string",
                  "enum": ["string", "integer", "number", "boolean", "array", "object"]
                },
                "required": {"type": "boolean"},
                "description": {"type": "string"},
                "default": {},
                "enum": {"type": "array"},
                "format": {"type": "string"},
                "minimum": {"type": "number"},
                "maximum": {"type": "number"},
                "minLength": {"type": "integer"},
                "maxLength": {"type": "integer"}
              }
            }
          },
          "request_body": {
            "type": "object",
            "description": "请求体结构",
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["application/json", "application/x-www-form-urlencoded", "multipart/form-data"]
              },
              "schema": {"type": "object"},
              "example": {}
            }
          },
          "responses": {
            "type": "object",
            "description": "响应定义",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "description": {"type": "string"},
                "schema": {"type": "object"},
                "example": {}
              }
            }
          }
        }
      }
    }
  },
  "required": ["interfaces"]
}
